{
  "servers": [
    {
      "url": "http://localhost:3000"
    }
  ],
  "externalDocs": {
    "url": "https://github.com/sdslabs/gasper",
    "description": "Find out more about Gasper"
  },
  "paths": {
    "/instances": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          }
        ],
        "tags": [
          "instances"
        ],
        "operationId": "fetchIntancesByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Instances"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch all instances owned by a user"
      }
    },
    "/apps/{app}/metrics": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "app",
            "required": true,
            "description": "The name of the application"
          },
          {
            "in": "query",
            "name": "seconds",
            "description": "Fetch metrics in the last **n** seconds",
            "schema": {
              "type": "integer",
              "example": 8
            }
          },
          {
            "in": "query",
            "name": "minutes",
            "description": "Fetch metrics in the last **n** minutes",
            "schema": {
              "type": "integer",
              "example": 7
            }
          },
          {
            "in": "query",
            "name": "hours",
            "description": "Fetch metrics in the last **n** hours",
            "schema": {
              "type": "integer",
              "example": 6
            }
          },
          {
            "in": "query",
            "name": "days",
            "description": "Fetch metrics in the last **n** days",
            "schema": {
              "type": "integer",
              "example": 5
            }
          },
          {
            "in": "query",
            "name": "weeks",
            "description": "Fetch metrics in the last **n** weeks",
            "schema": {
              "type": "integer",
              "example": 4
            }
          },
          {
            "in": "query",
            "name": "months",
            "description": "Fetch metrics in the last **n** months",
            "schema": {
              "type": "integer",
              "example": 3
            }
          },
          {
            "in": "query",
            "name": "years",
            "description": "Fetch metrics in the last **n** years",
            "schema": {
              "type": "integer",
              "example": 2
            }
          },
          {
            "in": "query",
            "name": "decades",
            "description": "Fetch metrics in the last **n** decades",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "tags": [
          "apps"
        ],
        "operationId": "fetchMetricsByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Metrics"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch metrics of an application"
      }
    },
    "/admin/dbs/{db}": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "db",
            "required": true,
            "description": "Name of the database"
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "fetchDbByAdmin",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CreatedDatabase"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch a single database"
      },
      "delete": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "db",
            "required": true,
            "description": "Name of the database"
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "deleteDbByAdmin",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Delete a single database"
      }
    },
    "/admin/users/{userEmail}/grant": {
      "patch": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "userEmail",
            "required": true,
            "description": "Email ID of the user"
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "grantSuperuserPrivilege",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Grant superuser privileges to a single user"
      }
    },
    "/admin/nodes": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "fetchNodesByAdmin",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "hikari": {
                      "type": "array",
                      "example": [
                        "192.168.208.206:53"
                      ],
                      "items": {
                        "type": "string"
                      }
                    },
                    "iwa": {
                      "type": "array",
                      "example": [
                        "192.168.208.206:2222"
                      ],
                      "items": {
                        "type": "string"
                      }
                    },
                    "mizu": {
                      "type": "array",
                      "example": [
                        "192.168.208.206:4000"
                      ],
                      "items": {
                        "type": "string"
                      }
                    },
                    "mysql": {
                      "type": "array",
                      "example": [
                        "192.168.208.206:9000"
                      ],
                      "items": {
                        "type": "string"
                      }
                    },
                    "postgresql": {
                      "type": "array",
                      "example": [
                        "192.168.208.206:9000"
                      ],
                      "items": {
                        "type": "string"
                      }
                    },
                    "success": {
                      "type": "boolean"
                    },
                    "mongodb": {
                      "type": "array",
                      "example": [
                        "192.168.208.206:9000"
                      ],
                      "items": {
                        "type": "string"
                      }
                    },
                    "enrai": {
                      "type": "array",
                      "example": [
                        "192.168.208.206:80"
                      ],
                      "items": {
                        "type": "string"
                      }
                    },
                    "kaze": {
                      "type": "array",
                      "example": [
                        "192.168.208.206:3000"
                      ],
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch bind addresses(IP:Port) of all microservices on all nodes"
      }
    },
    "/dbs": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          }
        ],
        "tags": [
          "dbs"
        ],
        "operationId": "fetchDbsByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CreatedDatabase"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch all databases owned by a user"
      }
    },
    "/admin/users": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "in": "query",
            "name": "username",
            "description": "Name of the user",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "email",
            "description": "Email of the user",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "admin",
            "description": "Field denoting superuser privileges",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "fetchUsersByAdmin",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CreatedUser"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch all users with/without a filter defined by query params"
      }
    },
    "/apps/{app}/logs": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "app",
            "required": true,
            "description": "The name of the application"
          },
          {
            "in": "query",
            "name": "tail",
            "description": "Fetch the last **n** logs (Fetches all logs if not specified)",
            "schema": {
              "type": "integer",
              "example": 3
            }
          }
        ],
        "tags": [
          "apps"
        ],
        "operationId": "fetchLogsByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": [
                        "2019-10-28T05:46:19.012861400Z Server listening on port 3000"
                      ]
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch logs of an application"
      }
    },
    "/apps/{app}/term": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "app",
            "required": true,
            "description": "The name of the application"
          }
        ],
        "tags": [
          "apps"
        ],
        "operationId": "fetchTerminalByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "url": {
                      "type": "string",
                      "example": "kaze.sdslabs.co:51000",
                      "description": "The URL endpoint for accessing the browser terminal instance in the form of domain_name:port"
                    },
                    "raw_url": {
                      "type": "string",
                      "example": "10.43.3.24:51000",
                      "description": "The URL endpoint for accessing the browser terminal instance in the form of ip_address:port"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch a browser terminal instance for an application owned by a user"
      }
    },
    "/apps/{app}/transfer/{userEmail}": {
      "patch": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "app",
            "required": true,
            "description": "The name of the application"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "userEmail",
            "required": true,
            "description": "Email ID of the user"
          }
        ],
        "tags": [
          "apps"
        ],
        "operationId": "transferAppByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Transfer ownership of an application to another user"
      }
    },
    "/admin/apps/{app}": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "app",
            "required": true,
            "description": "The name of the application"
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "fetchAppByAdmin",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CreatedApplication"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch a single application"
      },
      "delete": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "app",
            "required": true,
            "description": "The name of the application"
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "deleteAppByAdmin",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Delete an application"
      }
    },
    "/admin/users/{userEmail}": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "userEmail",
            "required": true,
            "description": "Email ID of the user"
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "fetchUserByAdmin",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CreatedUser"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch a single user"
      },
      "delete": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "userEmail",
            "required": true,
            "description": "Email ID of the user"
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "deleteUserByAdmin",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Delete a single user"
      }
    },
    "/dbs/{db}": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "db",
            "required": true,
            "description": "Name of the database"
          }
        ],
        "tags": [
          "dbs"
        ],
        "operationId": "fetchDbByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CreatedDatabase"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch a single database owned by a user"
      },
      "delete": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "db",
            "required": true,
            "description": "Name of the database"
          }
        ],
        "tags": [
          "dbs"
        ],
        "operationId": "deleteDbByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Delete a single database owned by a user"
      }
    },
    "/user": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          }
        ],
        "tags": [
          "user"
        ],
        "operationId": "fetchUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "username": {
                      "type": "string",
                      "example": "alphadose"
                    },
                    "email": {
                      "type": "string",
                      "example": "anish.mukherjee1996@gmail.com"
                    },
                    "admin": {
                      "type": "boolean"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch logged in user's info"
      },
      "delete": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          }
        ],
        "tags": [
          "user"
        ],
        "operationId": "deleteUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string",
                      "example": "user deleted"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Delete user"
      }
    },
    "/apps/{language}": {
      "post": {
        "operationId": "createApp",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Application"
              }
            }
          },
          "required": true
        },
        "summary": "Create an application",
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name_servers": {
                      "items": {
                        "type": "string"
                      },
                      "type": "array",
                      "description": "The DNS NameServers used by the application's docker container",
                      "example": [
                        "8.8.8.8",
                        "8.8.4.4"
                      ]
                    },
                    "app_url": {
                      "type": "string",
                      "example": "alphadose.app.sdslabs.co",
                      "description": "The domain name of the application (DNS entry is managed by Hikari 💡)"
                    },
                    "host_ip": {
                      "type": "string",
                      "example": "192.168.208.206",
                      "description": "IPv4 address of the node"
                    },
                    "instance_type": {
                      "type": "string",
                      "example": "app",
                      "description": "The kind of instance this application belongs to"
                    },
                    "owner": {
                      "type": "string",
                      "example": "anish.mukherjee1996@gmail.com",
                      "description": "Owner of the application"
                    },
                    "context": {
                      "$ref": "#/components/schemas/Context"
                    },
                    "container_id": {
                      "type": "string",
                      "description": "ID of the application's docker container"
                    },
                    "_id": {
                      "type": "string",
                      "description": "Application's identifier assigned by MongoDB"
                    },
                    "success": {
                      "type": "boolean"
                    },
                    "container_port": {
                      "description": "Port assigned by the node to the application's docker container",
                      "type": "integer",
                      "example": 35000,
                      "format": "int64"
                    },
                    "password": {
                      "type": "string",
                      "description": "Password required for SSH access to the application's docker container"
                    },
                    "resources": {
                      "type": "object",
                      "properties": {
                        "cpu": {
                          "description": "Number of virtual CPUs",
                          "type": "number",
                          "example": 0.25,
                          "format": "float"
                        },
                        "memory": {
                          "description": "Memory in GigaBytes (GB)",
                          "type": "number",
                          "example": 0.5,
                          "format": "float"
                        }
                      },
                      "description": "Resources required by the application"
                    },
                    "language": {
                      "enum": [
                        "php",
                        "nodejs",
                        "static",
                        "python2",
                        "python3",
                        "golang",
                        "ruby"
                      ],
                      "type": "string",
                      "example": "nodejs",
                      "description": "The programming language in which the application is written"
                    },
                    "git": {
                      "$ref": "#/components/schemas/Git"
                    },
                    "docker_image": {
                      "type": "string",
                      "example": "sdsws/node:2.0",
                      "description": "Docker image used in building the application's container"
                    },
                    "env": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string"
                      },
                      "description": "Environment variables required by the application"
                    },
                    "name": {
                      "type": "string",
                      "description": "Name of the application"
                    },
                    "ssh_cmd": {
                      "type": "string",
                      "example": "ssh -p 2222 alphadose@192.168.208.206",
                      "description": "Command to SSH into the application's docker container"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "tags": [
          "apps"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "static",
                "php",
                "nodejs",
                "python2",
                "python3",
                "golang",
                "ruby"
              ]
            },
            "in": "path",
            "name": "language",
            "required": true,
            "description": "The programming language in which the application is written"
          }
        ]
      }
    },
    "/user/password": {
      "put": {
        "operationId": "updatePassword",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "old_password": {
                    "type": "string",
                    "example": "alphadose",
                    "description": "The current password in use"
                  },
                  "new_password": {
                    "type": "string",
                    "example": "betadose",
                    "description": "The new password meant to replace the old one"
                  }
                }
              }
            }
          },
          "required": true
        },
        "summary": "Update the password of the logged in user",
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string",
                      "example": "password updated"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "tags": [
          "user"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          }
        ]
      }
    },
    "/apps/{app}/rebuild": {
      "patch": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "app",
            "required": true,
            "description": "The name of the application"
          }
        ],
        "tags": [
          "apps"
        ],
        "operationId": "rebuildAppByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name_servers": {
                      "items": {
                        "type": "string"
                      },
                      "type": "array",
                      "description": "The DNS NameServers used by the application's docker container",
                      "example": [
                        "8.8.8.8",
                        "8.8.4.4"
                      ]
                    },
                    "app_url": {
                      "type": "string",
                      "example": "alphadose.app.sdslabs.co",
                      "description": "The domain name of the application (DNS entry is managed by Hikari 💡)"
                    },
                    "host_ip": {
                      "type": "string",
                      "example": "192.168.208.206",
                      "description": "IPv4 address of the node"
                    },
                    "instance_type": {
                      "type": "string",
                      "example": "app",
                      "description": "The kind of instance this application belongs to"
                    },
                    "owner": {
                      "type": "string",
                      "example": "anish.mukherjee1996@gmail.com",
                      "description": "Owner of the application"
                    },
                    "context": {
                      "$ref": "#/components/schemas/Context"
                    },
                    "container_id": {
                      "type": "string",
                      "description": "ID of the application's docker container"
                    },
                    "_id": {
                      "type": "string",
                      "description": "Application's identifier assigned by MongoDB"
                    },
                    "success": {
                      "type": "boolean"
                    },
                    "container_port": {
                      "description": "Port assigned by the node to the application's docker container",
                      "type": "integer",
                      "example": 35000,
                      "format": "int64"
                    },
                    "password": {
                      "type": "string",
                      "description": "Password required for SSH access to the application's docker container"
                    },
                    "resources": {
                      "type": "object",
                      "properties": {
                        "cpu": {
                          "description": "Number of virtual CPUs",
                          "type": "number",
                          "example": 0.25,
                          "format": "float"
                        },
                        "memory": {
                          "description": "Memory in GigaBytes (GB)",
                          "type": "number",
                          "example": 0.5,
                          "format": "float"
                        }
                      },
                      "description": "Resources required by the application"
                    },
                    "language": {
                      "enum": [
                        "php",
                        "nodejs",
                        "static",
                        "python2",
                        "python3",
                        "golang",
                        "ruby"
                      ],
                      "type": "string",
                      "example": "nodejs",
                      "description": "The programming language in which the application is written"
                    },
                    "git": {
                      "$ref": "#/components/schemas/Git"
                    },
                    "docker_image": {
                      "type": "string",
                      "example": "sdsws/node:2.0",
                      "description": "Docker image used in building the application's container"
                    },
                    "env": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string"
                      },
                      "description": "Environment variables required by the application"
                    },
                    "name": {
                      "type": "string",
                      "description": "Name of the application"
                    },
                    "ssh_cmd": {
                      "type": "string",
                      "example": "ssh -p 2222 alphadose@192.168.208.206",
                      "description": "Command to SSH into the application's docker container"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Rebuild an application"
      }
    },
    "/admin/dbs": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "in": "query",
            "name": "name",
            "description": "Name of the database",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "user",
            "description": "User of the database",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "owner",
            "description": "Owner of the database",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "language",
            "description": "Type of the database",
            "schema": {
              "type": "string",
              "example": "mysql",
              "enum": [
                "mysql",
                "mongodb",
                "postgresql"
              ]
            }
          },
          {
            "in": "query",
            "name": "host_ip",
            "description": "IPv4 address of the node in which the database is deployed",
            "schema": {
              "type": "string",
              "example": "192.168.208.208"
            }
          },
          {
            "in": "query",
            "name": "container_port",
            "description": "Port assigned by the node to the database's docker container",
            "schema": {
              "type": "string",
              "example": 35000
            }
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "fetchDbsByAdmin",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CreatedDatabase"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch all databases with/without a filter defined by query params"
      }
    },
    "/auth/register": {
      "post": {
        "tags": [
          "auth"
        ],
        "operationId": "register",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string",
                      "example": "User created"
                    }
                  }
                }
              }
            },
            "description": "Registration successful"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/User"
              }
            }
          },
          "required": true
        },
        "summary": "Register a user"
      }
    },
    "/admin/users/{userEmail}/revoke": {
      "patch": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "userEmail",
            "required": true,
            "description": "Email ID of the user"
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "revokeSuperuserPrivilege",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Revoke superuser privileges from a single user"
      }
    },
    "/apps": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          }
        ],
        "tags": [
          "apps"
        ],
        "operationId": "fetchAppsByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CreatedApplication"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch all applications owned by a user"
      }
    },
    "/admin/nodes/{type}": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string",
              "example": "master",
              "enum": [
                "master",
                "workers",
                "kaze",
                "enrai",
                "mizu",
                "iwa",
                "hikari",
                "mysql",
                "mongodb",
                "postgresql"
              ]
            },
            "in": "path",
            "name": "type",
            "required": true,
            "description": "Type of microservice"
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "fetchNodeByAdmin",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "kaze": {
                      "type": "array",
                      "example": [
                        "192.168.208.206:3000"
                      ],
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch bind addresses(IP:Port) of a single microservice on all nodes"
      }
    },
    "/dbs/{databaseType}": {
      "post": {
        "operationId": "createDB",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Database"
              }
            }
          }
        },
        "summary": "Create a database",
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "owner": {
                      "type": "string",
                      "description": "Owner of the database"
                    },
                    "password": {
                      "type": "string",
                      "description": "Password of the database"
                    },
                    "db_url": {
                      "type": "string",
                      "example": "alphadose.db.sdslabs.co",
                      "description": "The domain name of the database (DNS entry is managed by Hikari 💡)"
                    },
                    "user": {
                      "type": "string",
                      "description": "Username of the database"
                    },
                    "port": {
                      "type": "string",
                      "example": 35000,
                      "description": "Port on which the database server is running"
                    },
                    "success": {
                      "type": "boolean"
                    },
                    "language": {
                      "enum": [
                        "mysql",
                        "mongodb",
                        "postgresql"
                      ],
                      "type": "string",
                      "example": "mysql",
                      "description": "The type of database"
                    },
                    "instance_type": {
                      "type": "string",
                      "description": "The kind of instance the database belongs to"
                    },
                    "name": {
                      "type": "string",
                      "description": "Name of the database"
                    },
                    "host_ip": {
                      "type": "string",
                      "example": "192.168.208.208",
                      "description": "IPv4 address of the node where the database is deployed"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "tags": [
          "dbs"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "mysql",
                "mongodb",
                "postgresql"
              ]
            },
            "in": "path",
            "name": "databaseType",
            "required": true,
            "description": "The type of database"
          }
        ]
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "operationId": "login",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            },
            "description": "Login successful"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Login"
              }
            }
          },
          "required": true
        },
        "summary": "Login to get a Bearer token"
      }
    },
    "/auth/refresh": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          }
        ],
        "tags": [
          "auth"
        ],
        "operationId": "refresh",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            },
            "description": "Refresh successful"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Refresh JWT token using existing token"
      }
    },
    "/admin/apps": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "in": "query",
            "name": "name",
            "description": "Name of the application",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "owner",
            "description": "Owner of the application",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "language",
            "description": "Language in which the application is written",
            "schema": {
              "type": "string",
              "example": "nodejs",
              "enum": [
                "php",
                "static",
                "nodejs",
                "python2",
                "python3",
                "golang",
                "ruby"
              ]
            }
          },
          {
            "in": "query",
            "name": "docker_image",
            "description": "Docker Image used in building the application's container",
            "schema": {
              "type": "string",
              "example": "sdsws/node:2.0"
            }
          },
          {
            "in": "query",
            "name": "host_ip",
            "description": "IPv4 address of the node in which the application is deployed",
            "schema": {
              "type": "string",
              "example": "192.168.208.208"
            }
          },
          {
            "in": "query",
            "name": "git_url",
            "description": "Application's Git Repository URL",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "container_port",
            "description": "Port assigned by the node to the application's docker container",
            "schema": {
              "type": "string",
              "example": 35000
            }
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "fetchAppsByAdmin",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CreatedApplication"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch all applications with/without a filter defined by query params"
      }
    },
    "/dbs/{db}/transfer/{userEmail}": {
      "patch": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "db",
            "required": true,
            "description": "Name of the database"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "userEmail",
            "required": true,
            "description": "Email ID of the user"
          }
        ],
        "tags": [
          "dbs"
        ],
        "operationId": "transferDbByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Transfer ownership of a database to another user"
      }
    },
    "/apps/{app}": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "app",
            "required": true,
            "description": "The name of the application"
          }
        ],
        "tags": [
          "apps"
        ],
        "operationId": "fetchAppByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CreatedApplication"
                      }
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Fetch a single application owned by a user"
      },
      "put": {
        "operationId": "updateAppByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Application"
              }
            }
          },
          "required": true
        },
        "summary": "Update an application owned by a user",
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name_servers": {
                      "items": {
                        "type": "string"
                      },
                      "type": "array",
                      "description": "The DNS NameServers used by the application's docker container",
                      "example": [
                        "8.8.8.8",
                        "8.8.4.4"
                      ]
                    },
                    "app_url": {
                      "type": "string",
                      "example": "alphadose.app.sdslabs.co",
                      "description": "The domain name of the application (DNS entry is managed by Hikari 💡)"
                    },
                    "host_ip": {
                      "type": "string",
                      "example": "192.168.208.206",
                      "description": "IPv4 address of the node"
                    },
                    "instance_type": {
                      "type": "string",
                      "example": "app",
                      "description": "The kind of instance this application belongs to"
                    },
                    "owner": {
                      "type": "string",
                      "example": "anish.mukherjee1996@gmail.com",
                      "description": "Owner of the application"
                    },
                    "context": {
                      "$ref": "#/components/schemas/Context"
                    },
                    "container_id": {
                      "type": "string",
                      "description": "ID of the application's docker container"
                    },
                    "_id": {
                      "type": "string",
                      "description": "Application's identifier assigned by MongoDB"
                    },
                    "success": {
                      "type": "boolean"
                    },
                    "container_port": {
                      "description": "Port assigned by the node to the application's docker container",
                      "type": "integer",
                      "example": 35000,
                      "format": "int64"
                    },
                    "password": {
                      "type": "string",
                      "description": "Password required for SSH access to the application's docker container"
                    },
                    "resources": {
                      "type": "object",
                      "properties": {
                        "cpu": {
                          "description": "Number of virtual CPUs",
                          "type": "number",
                          "example": 0.25,
                          "format": "float"
                        },
                        "memory": {
                          "description": "Memory in GigaBytes (GB)",
                          "type": "number",
                          "example": 0.5,
                          "format": "float"
                        }
                      },
                      "description": "Resources required by the application"
                    },
                    "language": {
                      "enum": [
                        "php",
                        "nodejs",
                        "static",
                        "python2",
                        "python3",
                        "golang",
                        "ruby"
                      ],
                      "type": "string",
                      "example": "nodejs",
                      "description": "The programming language in which the application is written"
                    },
                    "git": {
                      "$ref": "#/components/schemas/Git"
                    },
                    "docker_image": {
                      "type": "string",
                      "example": "sdsws/node:2.0",
                      "description": "Docker image used in building the application's container"
                    },
                    "env": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string"
                      },
                      "description": "Environment variables required by the application"
                    },
                    "name": {
                      "type": "string",
                      "description": "Name of the application"
                    },
                    "ssh_cmd": {
                      "type": "string",
                      "example": "ssh -p 2222 alphadose@192.168.208.206",
                      "description": "Command to SSH into the application's docker container"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "tags": [
          "apps"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "app",
            "required": true,
            "description": "The name of the application"
          }
        ]
      },
      "delete": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
            },
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer Token Authentication"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "app",
            "required": true,
            "description": "The name of the application"
          }
        ],
        "tags": [
          "apps"
        ],
        "operationId": "deleteAppByUser",
        "security": [
          {
            "bearerAuth": [
            ]
          }
        ],
        "responses": {
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            },
            "description": "Internal Server Error"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token is expired"
                    }
                  }
                }
              }
            },
            "description": "Unauthorized"
          },
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  }
                }
              }
            },
            "description": "Success"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Delete an application owned by a user"
      }
    }
  },
  "openapi": "3.0.1",
  "components": {
    "schemas": {
      "CreatedUser": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "_id": {
            "type": "string",
            "description": "User's identifier assigned by MongoDB"
          },
          "admin": {
            "type": "boolean",
            "example": true,
            "description": "Field denoting superuser privileges"
          }
        }
      },
      "User": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        },
        "required": [
          "username",
          "password",
          "email"
        ]
      },
      "LoginResponse": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",
            "description": "The token required for authentication via bearer scheme"
          },
          "expire": {
            "type": "string",
            "format": "date-time",
            "example": "2019-10-28T00:58:11+05:30"
          },
          "code": {
            "type": "integer",
            "format": "int32",
            "example": 200
          }
        }
      },
      "Instances": {
        "type": "object",
        "properties": {
          "language": {
            "enum": [
              "php",
              "nodejs",
              "static",
              "python2",
              "python3",
              "golang",
              "ruby"
            ],
            "type": "string",
            "example": "nodejs",
            "description": "The programming language in which the application is written"
          },
          "_id": {
            "type": "string",
            "description": "Document's identifier assigned by MongoDB"
          },
          "name": {
            "type": "string",
            "example": "Facebook",
            "description": "Name of the application or database"
          },
          "instance_type": {
            "type": "string",
            "example": "app",
            "description": "The kind of instance this application belongs to"
          }
        }
      },
      "Context": {
        "type": "object",
        "properties": {
          "port": {
            "example": 3000,
            "default": 80,
            "type": "integer",
            "description": "Port on which the application runs",
            "format": "int64"
          },
          "build": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "description": "Commands for installing application dependencies",
            "example": [
              "npm install",
              "grunt build"
            ]
          },
          "run": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "description": "Commands for running the application",
            "example": [
              "node index.js"
            ]
          },
          "rc_file": {
            "type": "boolean",
            "default": false,
            "description": "Is a Run Commands file present in the application's git repository's root directory?"
          },
          "index": {
            "type": "string",
            "example": "index.js",
            "description": "Entrypoint for an application"
          }
        },
        "required": [
          "index"
        ]
      },
      "Git": {
        "type": "object",
        "properties": {
          "repo_url": {
            "type": "string",
            "example": "https://github.com/sdslabs/gasper",
            "description": "Git Repository URL of the application"
          },
          "branch": {
            "default": "master",
            "type": "string",
            "description": "Specific branch to clone",
            "example": "master"
          },
          "access_token": {
            "type": "string",
            "description": "Access token for cloning the application's git repository"
          }
        },
        "required": [
          "repo_url"
        ]
      },
      "Application": {
        "type": "object",
        "properties": {
          "git": {
            "$ref": "#/components/schemas/Git"
          },
          "password": {
            "type": "string",
            "description": "Password required for SSH access to the application's docker container"
          },
          "resources": {
            "type": "object",
            "properties": {
              "cpu": {
                "description": "Number of virtual CPUs",
                "type": "number",
                "example": 0.25,
                "format": "float"
              },
              "memory": {
                "description": "Memory in GigaBytes (GB)",
                "type": "number",
                "example": 0.5,
                "format": "float"
              }
            },
            "description": "Resources required by the application"
          },
          "env": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Environment variables required by the application"
          },
          "name": {
            "type": "string",
            "description": "Name of the application"
          },
          "context": {
            "$ref": "#/components/schemas/Context"
          }
        },
        "required": [
          "name",
          "password",
          "git",
          "context"
        ]
      },
      "Login": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        },
        "required": [
          "password",
          "email"
        ]
      },
      "Database": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the database"
          },
          "password": {
            "type": "string",
            "description": "Password of the database"
          }
        },
        "required": [
          "name",
          "password"
        ]
      },
      "CreatedApplication": {
        "type": "object",
        "properties": {
          "name_servers": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "description": "The DNS NameServers used by the application's docker container",
            "example": [
              "8.8.8.8",
              "8.8.4.4"
            ]
          },
          "app_url": {
            "type": "string",
            "example": "alphadose.app.sdslabs.co",
            "description": "The domain name of the application (DNS entry is managed by Hikari 💡)"
          },
          "host_ip": {
            "type": "string",
            "example": "192.168.208.206",
            "description": "IPv4 address of the node"
          },
          "instance_type": {
            "type": "string",
            "example": "app",
            "description": "The kind of instance this application belongs to"
          },
          "owner": {
            "type": "string",
            "example": "anish.mukherjee1996@gmail.com",
            "description": "Owner of the application"
          },
          "context": {
            "$ref": "#/components/schemas/Context"
          },
          "container_id": {
            "type": "string",
            "description": "ID of the application's docker container"
          },
          "_id": {
            "type": "string",
            "description": "Application's identifier assigned by MongoDB"
          },
          "container_port": {
            "description": "Port assigned by the node to the application's docker container",
            "type": "integer",
            "example": 35000,
            "format": "int64"
          },
          "password": {
            "type": "string",
            "description": "Password required for SSH access to the application's docker container"
          },
          "resources": {
            "type": "object",
            "properties": {
              "cpu": {
                "description": "Number of virtual CPUs",
                "type": "number",
                "example": 0.25,
                "format": "float"
              },
              "memory": {
                "description": "Memory in GigaBytes (GB)",
                "type": "number",
                "example": 0.5,
                "format": "float"
              }
            },
            "description": "Resources required by the application"
          },
          "language": {
            "enum": [
              "php",
              "nodejs",
              "static",
              "python2",
              "python3",
              "golang",
              "ruby"
            ],
            "type": "string",
            "example": "nodejs",
            "description": "The programming language in which the application is written"
          },
          "git": {
            "$ref": "#/components/schemas/Git"
          },
          "docker_image": {
            "type": "string",
            "example": "sdsws/node:2.0",
            "description": "Docker image used in building the application's container"
          },
          "env": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Environment variables required by the application"
          },
          "name": {
            "type": "string",
            "description": "Name of the application"
          },
          "ssh_cmd": {
            "type": "string",
            "example": "ssh -p 2222 alphadose@192.168.208.206",
            "description": "Command to SSH into the application's docker container"
          }
        }
      },
      "Metrics": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Document's identifier assigned by MongoDB"
          },
          "online_cpus": {
            "type": "integer",
            "example": 4,
            "description": "The number of available CPUs in the node"
          },
          "max_memory_usage": {
            "example": 0.5,
            "type": "number",
            "description": "Highest fraction of memory utilized by the application in its lifetime",
            "format": "double"
          },
          "memory_limit": {
            "example": 1,
            "type": "number",
            "description": "Memory (in GigaBytes) alloted to the application",
            "format": "float"
          },
          "memory_usage": {
            "example": 0.20000000000000001,
            "type": "number",
            "description": "Fraction of memory utilized by the application",
            "format": "double"
          },
          "alive": {
            "type": "boolean",
            "description": "Is the application up and running?"
          },
          "cpu_usage": {
            "example": 0.10000000000000001,
            "type": "number",
            "description": "Fraction of total CPUs utilized by the application",
            "format": "double"
          },
          "timestamp": {
            "example": 1576210138,
            "type": "integer",
            "description": "Unix timestamp of the metrics document",
            "format": "int64"
          },
          "host_ip": {
            "type": "string",
            "example": "192.168.208.208",
            "description": "IPv4 address of the node where the application is deployed"
          },
          "name": {
            "type": "string",
            "example": "sampledose",
            "description": "Name of the application"
          }
        }
      },
      "CreatedDatabase": {
        "type": "object",
        "properties": {
          "owner": {
            "type": "string",
            "description": "Owner of the database"
          },
          "password": {
            "type": "string",
            "description": "Password of the database"
          },
          "db_url": {
            "type": "string",
            "example": "alphadose.db.sdslabs.co",
            "description": "The domain name of the database (DNS entry is managed by Hikari 💡)"
          },
          "port": {
            "type": "string",
            "example": 35000,
            "description": "Port on which the database server is running"
          },
          "user": {
            "type": "string",
            "description": "Username of the database"
          },
          "language": {
            "enum": [
              "mysql",
              "mongodb",
              "postgresql"
            ],
            "type": "string",
            "example": "mysql",
            "description": "The type of database"
          },
          "instance_type": {
            "type": "string",
            "description": "The kind of instance the database belongs to"
          },
          "host_ip": {
            "type": "string",
            "example": "192.168.208.208",
            "description": "IPv4 address of the node where the database is deployed"
          },
          "name": {
            "type": "string",
            "description": "Name of the database"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "tags": [
    {
      "name": "auth",
      "description": "Authentication for all endpoints"
    },
    {
      "name": "apps",
      "description": "Application management"
    },
    {
      "name": "dbs",
      "description": "Database management"
    },
    {
      "name": "user",
      "description": "User specific operations"
    },
    {
      "name": "admin",
      "description": "Operations with superuser privileges"
    }
  ],
  "info": {
    "version": "1.0",
    "license": {
      "name": "MIT",
      "url": "https://github.com/sdslabs/gasper/blob/develop/LICENSE.md"
    },
    "title": "Gasper Kaze API",
    "description": "Handles authentication, creation/management of applications, databases, users and also provides a superuser API. <br><br> Only a superuser can avail the superuser API. A superuser can **grant/revoke** superuser privileges to other users. A default  superuser is created every time a Gasper instance is launched whose credentials are defined in the `admin` section of `config.toml`, the main configuration file. A sample configuration file is available [here](https://github.com/sdslabs/gasper/blob/develop/config.sample.toml#L37).<br><br>\n**Note:-** Normally the applications and databases can only be managed by their owners but the superuser can bypass that check.<br><br>\n**PS:-** If you want to programmatically generate a client for this API, you can find the corresponding OpenAPI specifications [here](https://github.com/sdslabs/gasper/tree/develop/docs/content/api/specs). We recommend using [OpenAPI-Generator](https://openapi-generator.tech/) for generating clients.",
    "contact": {
      "name": "SDSLabs",
      "url": "https://chat.sdslabs.co",
      "email": "contact@sdslabs.co.in"
    }
  }
}